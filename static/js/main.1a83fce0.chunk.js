(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var c=n(132),r=n(0),a=n(80),s=n.n(a),i=n(33),j=n(11),o=n(134),l=n(84),u=n(122),b=n(123),h=n(124),d=n(2),O=function(){return Object(d.jsx)(u.a,{children:Object(d.jsx)(b.a,{as:"h6",size:"md",fontWeight:"bold",p:"0",children:Object(d.jsx)(h.a,{as:i.b,to:"/users",children:"Users App"})})})},x=n(24),m=n(89),f=n(125),p=function(e){var t=e.children,n=e.to,c=Object(m.a)(e,["children","to"]);return Object(d.jsx)(f.b,Object(x.a)(Object(x.a)({p:3},c),{},{children:Object(d.jsx)(h.a,{as:i.b,to:n,children:t})}))},g=Object(j.g)((function(e){var t=function(t){return e.location.pathname===t?"nav-item--active":null};return Object(d.jsx)(u.a,{as:"nav",children:Object(d.jsxs)(f.a,{d:"flex",children:[Object(d.jsx)(p,{to:"/users",className:t("/users"),children:"Users"}),Object(d.jsx)(p,{to:"/users/create",className:t("/users/create"),children:"Create User"})]})})})),v=n(90),y=n(126),S=n(69),w=function(e){var t=Object(v.b)().toggleColorMode,n=Object(v.c)("dark","light"),c=Object(v.c)(S.a,S.b);return Object(d.jsx)(y.a,Object(x.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",onClick:t,icon:Object(d.jsx)(c,{})},e))},k=n(127),N=function(){var e=Object(v.b)().colorMode;return Object(d.jsx)(u.a,{as:"header",bg:"light"===e?"white":"gray.900",color:"light"===e?"black":"white",boxShadow:"rgba(0, 0, 0, 0.1) 0px 1px 2px 0px",children:Object(d.jsxs)(k.a,{justify:"space-between",align:"center",w:"100%",maxW:"1200px",h:"100%",mx:"auto",p:"1.5em 1em",children:[Object(d.jsx)(O,{}),Object(d.jsxs)(k.a,{align:"center",justifySelf:"flex-end",children:[Object(d.jsx)(g,{}),Object(d.jsx)(w,{p:3})]})]})})},C=function(){return Object(d.jsx)(u.a,{as:"footer",bg:"gray.700",color:"white",children:Object(d.jsx)(k.a,{w:"100%",maxW:"1200px",p:"1.5rem 1rem",mx:"auto",h:"100%",children:Object(d.jsxs)(u.a,{children:["\xa9 ",Object(d.jsx)(h.a,{color:"teal.200",href:"https://github.com/shljshlj",target:"_blank",rel:"noopener noreferrer",children:"shljshlj"})," 2021"]})})})},E=n(21),U=n.n(E),T=n(38),z=n(4),A=n(82),L=n(83),I="https://my-json-server.typicode.com/shljshlj/demo/users",W=new(function(){function e(){Object(A.a)(this,e)}return Object(L.a)(e,[{key:"getUsers",value:function(){var e=Object(T.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetails",value:function(){var e=Object(T.a)(U.a.mark((function e(t){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I+"/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(T.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editUser",value:function(){var e=Object(T.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(T.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I+"/"+t,{method:"DELETE"});case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),J=n(128),P=n(135),B=n(129),H=function(){var e=Object(r.useState)([]),t=Object(z.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(z.a)(a,2),j=s[0],o=s[1];return Object(r.useEffect)((function(){(function(){var e=Object(T.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,W.getUsers();case 3:t=e.sent,console.log(t),c(t),o(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),j?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsx)(u.a,{children:Object(d.jsxs)(J.a,{variant:"simple",size:"md",children:[Object(d.jsx)(J.e,{children:Object(d.jsxs)(J.f,{children:[Object(d.jsx)(J.d,{isNumeric:!0,children:"Id"}),Object(d.jsx)(J.d,{children:"Picture"}),Object(d.jsx)(J.d,{children:"Full Name"}),Object(d.jsx)(J.d,{children:"State"}),Object(d.jsx)(J.d,{children:"Email Address"})]})}),Object(d.jsx)(J.b,{children:0!==n.length?n.map((function(e){return Object(d.jsxs)(J.f,{children:[Object(d.jsx)(J.c,{isNumeric:!0,children:e.id}),Object(d.jsx)(J.c,{children:Object(d.jsx)(h.a,{as:i.b,to:"/users/".concat(e.id),children:Object(d.jsx)(u.a,{maxW:"100px",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(d.jsx)(P.a,{boxSize:"100%",objectFit:"cover",src:e.avatar||"https://via.placeholder.com/100",fallbackSrc:"https://via.placeholder.com/100",alt:"Profile picture of ".concat(e.fullName)})})})}),Object(d.jsx)(J.c,{children:Object(d.jsx)(h.a,{as:i.b,to:"/users/".concat(e.id),children:e.fullName})}),Object(d.jsx)(J.c,{children:e.state}),Object(d.jsx)(J.c,{color:"gray.500",children:e.email})]},e.id)})):Object(d.jsx)(J.f,{children:Object(d.jsx)(J.c,{colSpan:"5",children:Object(d.jsx)(B.a,{fontSize:"sm",color:"gray.600",align:"center",children:"No user data"})})})})]})})},q=n(136),D=function(){return Object(d.jsx)(u.a,{fontSize:"md",children:Object(d.jsxs)(q.b,{spacing:8,children:[Object(d.jsx)(b.a,{as:"h1",size:"xl",children:"Users Page"}),Object(d.jsx)(H,{})]})})},F=function(){return Object(d.jsx)("h1",{children:"User Details"})},R=function(){return Object(d.jsx)("h1",{children:"Edit User"})},M=n(6),V=function(e){var t=e.initialValues,n=e.onSubmit,c=Object(r.useState)(t||{}),a=Object(z.a)(c,2),s=a[0],i=a[1],j=Object(r.useState)({}),o=Object(z.a)(j,2),l=o[0],u=o[1],b=Object(r.useState)({}),h=Object(z.a)(b,2),d=h[0],O=h[1],m=Object(r.useState)(!1),f=Object(z.a)(m,2),p=(f[0],f[1]),g=Object(r.useState)(!1),v=Object(z.a)(g,2),y=(v[0],v[1]),S=Object(r.useRef)(!0);Object(r.useEffect)((function(){S.current&&(i(t),u({}),O({}),p(!1),y(!1)),S.current=!1}),[t]);return{values:s,errors:l,touched:d,handleChange:function(e){e.persist();var t=e.target,n=t.name,c=t.value;i(Object(x.a)(Object(x.a)({},s),{},Object(M.a)({},n,c)))},handleBlur:function(e){var t=e.target.name;O(Object(x.a)(Object(x.a)({},d),{},Object(M.a)({},t,!0))),u(Object(x.a)({},l))},handleSubmit:function(e){e&&e.preventDefault(),u(Object(x.a)({},l)),n({values:s,errors:l})}}},Y={fullName:"",email:"",city:"",country:""},_=function(){var e=V({initialValues:Y,onSubmit:function(e){return console.log(e)}}),t=e.values,n=(e.errors,e.touched,e.handleChange),c=(e.handleBlur,e.handleSubmit);return Object(d.jsxs)("form",{onSubmit:c,children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("p",{children:"Full Name"}),Object(d.jsx)("input",{name:"fullName",type:"text",value:t.fullName,onChange:n,required:!0}),!t.fullName&&Object(d.jsx)("span",{children:"Please enter a full name"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("p",{children:"Email address"}),Object(d.jsx)("input",{name:"email",type:"email",value:t.email,onChange:n,required:!0}),!t.email&&Object(d.jsx)("span",{children:"Please enter an email address"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("p",{children:"City"}),Object(d.jsx)("input",{name:"city",type:"city",value:t.city,onChange:n})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("p",{children:"Country"}),Object(d.jsx)("input",{name:"country",type:"country",value:t.country,onChange:n})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"Create New User"})})]})},G=n(42),K=n(130),Q=n(137),X=n(88),Z=n(131),$=n(133),ee={email:""},te=function(e){var t=e.authToken,n=e.setAuthToken,c=e.setHasLogged,r=V({initialValues:ee,onSubmit:function(e){try{if(t){if(e.values.email!==t)throw console.log(e),new Error("Email is not matching");c()}else n(e.values.email),c()}catch(r){console.log(r),console.log(s)}}}),a=r.values,s=r.errors,i=(r.touched,r.handleChange),j=(r.handleBlur,r.handleSubmit);return Object(d.jsx)(k.a,{w:"100%",alignItems:"center",justifyContent:"center",height:"100vh",px:8,bg:"#fffaf6",children:Object(d.jsxs)(k.a,{direction:"column",alignItems:"stretch",w:"100%",maxWidth:"500px",borderRadius:"lg",borderWidth:"1px",bg:"white",p:8,mt:"-20%",children:[Object(d.jsxs)(u.a,{textAlign:"center",mt:"1rem",mb:"3rem",children:[Object(d.jsx)(b.a,{as:"h1",mb:"0.5rem",children:"Users App"}),Object(d.jsx)(B.a,{fontSize:"md",children:"Sign in with email to manage users data"})]}),Object(d.jsx)("form",{onSubmit:j,children:Object(d.jsxs)(q.a,{spacing:6,alignItems:"stretch",children:[Object(d.jsxs)(G.a,{id:"email",isRequired:!0,children:[Object(d.jsx)(K.a,{children:"Email Address"}),Object(d.jsx)(Q.a,{required:!0,name:"email",type:"email",placeholder:"Enter your email address",value:a.email,onChange:i})]}),Object(d.jsx)(X.a,{colorScheme:"teal",type:"submit",children:"Sign In"}),Object(d.jsx)(Z.a,{}),Object(d.jsxs)($.a,{children:[Object(d.jsx)($.g,{children:Object(d.jsx)(h.a,{fontSize:"sm",textAlign:"center",children:"Forgot your email?"})}),Object(d.jsxs)($.e,{children:[Object(d.jsx)($.b,{}),Object(d.jsx)($.d,{}),Object(d.jsx)($.f,{px:4,pt:4,fontWeight:"bold",fontSize:"sm",borderBottom:"1px",borderColor:"teal.100",children:"Email used to login:"}),Object(d.jsx)($.c,{p:4,children:t||"You haven't sign in before"})]})]})]})})]})})},ne=function(e){return Object(d.jsx)(k.a,{direction:"column",w:"100%",minH:"100vh",children:e.children})},ce=function(e){return Object(d.jsx)(u.a,{as:"main",flex:"1",children:e.children})},re=function(){var e=function(e,t){var n=t.getItem(e),c=JSON.parse(n);return console.log(c),c},t=Object(r.useState)(e("authToken",localStorage)),n=Object(z.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(e("hasLogged",sessionStorage)),i=Object(z.a)(s,2),j=i[0],o=i[1];return{authToken:c,setAuthToken:function(e){localStorage.setItem("authToken",JSON.stringify(e)),a(e)},hasLogged:j,setHasLogged:function(){sessionStorage.setItem("hasLogged",JSON.stringify(!0)),o(!0)}}};var ae=function(){var e=re(),t=e.authToken,n=e.setAuthToken,c=e.hasLogged,r=e.setHasLogged;return console.log(c),c&&t?Object(d.jsx)(o.a,{theme:l.theme,children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(ne,{children:[Object(d.jsx)(N,{}),Object(d.jsx)(j.d,{children:Object(d.jsxs)(ce,{children:[Object(d.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)(j.a,{to:"/users"})}}),Object(d.jsx)(j.b,{exact:!0,path:"/users",component:D}),Object(d.jsx)(j.b,{exact:!0,path:"/users/create",component:_}),Object(d.jsx)(j.b,{exact:!0,path:"/users/:id",component:F}),Object(d.jsx)(j.b,{exact:!0,path:"/users/:id/edit",component:R})]})}),Object(d.jsx)(C,{})]})})}):Object(d.jsx)(o.a,{theme:l.theme,children:Object(d.jsx)(te,{authToken:t,setAuthToken:n,setHasLogged:r})})};s.a.render(Object(d.jsxs)(r.StrictMode,{children:[Object(d.jsx)(c.a,{}),Object(d.jsx)(ae,{})]}),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.1a83fce0.chunk.js.map