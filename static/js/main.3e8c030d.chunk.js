(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{112:function(e,t,c){"use strict";c.r(t);var r=c(144),n=c(0),a=c(83),s=c.n(a),i=c(33),j=c(12),l=c(146),o=c(89),b=c(127),u=c(128),d=c(129),h=c(1),x=function(){return Object(h.jsx)(b.a,{children:Object(h.jsx)(u.a,{as:"h6",size:"md",fontWeight:"bold",p:"0",children:Object(h.jsx)(d.a,{as:i.b,to:"/users",children:"Users App"})})})},O=c(21),m=c(63),p=c(130),f=function(e){var t=e.children,c=e.to,r=Object(m.a)(e,["children","to"]);return Object(h.jsx)(p.b,Object(O.a)(Object(O.a)({p:3},r),{},{children:Object(h.jsx)(d.a,{as:i.b,to:c,children:t})}))},g=Object(j.h)((function(e){var t=function(t){return e.location.pathname===t?"nav-item--active":null};return Object(h.jsx)(b.a,{as:"nav",children:Object(h.jsxs)(p.a,{d:"flex",children:[Object(h.jsx)(f,{to:"/users",className:t("/users"),children:"Users"}),Object(h.jsx)(f,{to:"/users/create",className:t("/users/create"),children:"Create User"})]})})})),v=c(93),y=c(131),S=c(73),w=function(e){var t=Object(v.b)().toggleColorMode,c=Object(v.c)("dark","light"),r=Object(v.c)(S.a,S.b);return Object(h.jsx)(y.a,Object(O.a)({size:"md",fontSize:"lg","aria-label":"Switch to ".concat(c," mode"),variant:"ghost",color:"current",onClick:t,icon:Object(h.jsx)(r,{})},e))},k=c(132),C=function(){var e=Object(v.b)().colorMode;return Object(h.jsx)(b.a,{as:"header",bg:"light"===e?"white":"gray.900",boxShadow:"rgba(0, 0, 0, 0.1) 0px 1px 2px 0px",zIndex:"2",children:Object(h.jsxs)(k.a,{justify:"space-between",align:"center",p:"1em",children:[Object(h.jsx)(x,{}),Object(h.jsxs)(k.a,{align:"center",justifySelf:"flex-end",children:[Object(h.jsx)(g,{}),Object(h.jsx)(w,{p:3})]})]})})},z=function(){return Object(h.jsx)(b.a,{as:"footer",bg:"gray.800",color:"white",mt:"3rem",children:Object(h.jsx)(k.a,{w:"100%",maxW:"1200px",p:"2rem 1rem",mx:"auto",h:"100%",children:Object(h.jsxs)(b.a,{children:["\xa9 ",Object(h.jsx)(d.a,{color:"teal.200",href:"https://github.com/shljshlj",target:"_blank",rel:"noopener noreferrer",children:"shljshlj"})," 2021"]})})})},N=c(147),T=function(e){var t=e.children;return Object(h.jsx)(N.c,{w:"100%",maxW:"900px",h:"100%",px:"1rem",py:"2rem",mx:"auto",spacing:10,children:t})},U=function(e){var t=e.children;return Object(h.jsx)(b.a,{children:t})},E=function(e){var t=e.children,c=Object(m.a)(e,["children"]);return Object(h.jsx)(u.a,Object(O.a)(Object(O.a)({as:"h1",size:"xl",fontWeight:"bold",mt:"1em",mb:"0.2em",pl:"24px",letterSpacing:"0.1em",alignSelf:"flex-start"},c),{},{children:t}))},W=c(16),I=c.n(W),A=c(34),L=c(3),P=c(87),B=c(88),D="https://my-json-server.typicode.com/shljshlj/demo/users",J=new(function(){function e(){Object(P.a)(this,e)}return Object(B.a)(e,[{key:"getUsers",value:function(){var e=Object(A.a)(I.a.mark((function e(){var t,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(D);case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetails",value:function(){var e=Object(A.a)(I.a.mark((function e(t){var c,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(D+"/"+t);case 2:return c=e.sent,e.next=5,c.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(A.a)(I.a.mark((function e(t){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(D,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:c=e.sent,console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editUser",value:function(){var e=Object(A.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(A.a)(I.a.mark((function e(t){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(D+"/"+t,{method:"DELETE"});case 2:c=e.sent,console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),R=c(115),F=function(){return Object(h.jsx)(R.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"teal.500",size:"lg"})},H=c(133),M=c(148),q=function(e){var t=e.user,c=Object(v.b)().colorMode;return Object(h.jsxs)(H.f,{children:[Object(h.jsx)(H.c,{isNumeric:!0,children:t.id}),Object(h.jsx)(H.c,{children:Object(h.jsx)(d.a,{as:i.b,to:"/users/".concat(t.id),children:Object(h.jsx)(b.b,{size:"60px",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(h.jsx)(M.a,{loading:"lazy",boxSize:"100%",objectFit:"cover",src:t.avatar||"https://via.placeholder.com/100",fallbackSrc:"https://via.placeholder.com/100",alt:"Profile picture of ".concat(t.fullName)})})})}),Object(h.jsx)(H.c,{children:Object(h.jsx)(d.a,{as:i.b,to:"/users/".concat(t.id),children:t.fullName})}),Object(h.jsx)(H.c,{children:t.city}),Object(h.jsx)(H.c,{color:"light"===c?"teal.600":"teal.400",children:t.email})]})},V=c(134),G=c(135),Y=function(){var e=Object(n.useState)([]),t=Object(L.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(L.a)(a,2),i=s[0],j=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(A.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,J.getUsers();case 3:t=e.sent,r(t),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]),Object(h.jsx)(b.a,{my:"2rem",children:Object(h.jsxs)(H.a,{variant:"simple",size:"md",children:[Object(h.jsx)(H.e,{children:Object(h.jsxs)(H.f,{children:[Object(h.jsx)(H.d,{isNumeric:!0,children:"Id"}),Object(h.jsx)(H.d,{children:"Picture"}),Object(h.jsx)(H.d,{children:"Full Name"}),Object(h.jsx)(H.d,{children:"City"}),Object(h.jsx)(H.d,{children:"Email Address"})]})}),Object(h.jsx)(H.b,{children:i?Object(h.jsx)(H.f,{children:Object(h.jsx)(H.c,{colSpan:"5",children:Object(h.jsx)(V.a,{children:Object(h.jsx)(F,{})})})}):0!==c.length?c.map((function(e){return Object(h.jsx)(q,{user:e},e.id)})):Object(h.jsx)(H.f,{children:Object(h.jsx)(H.c,{colSpan:"5",children:Object(h.jsx)(G.a,{fontSize:"sm",color:"gray.600",align:"center",children:"There are no users to display"})})})})]})})},Z=function(){return Object(h.jsxs)(T,{children:[Object(h.jsx)(E,{children:"List of Users"}),Object(h.jsx)(U,{children:Object(h.jsx)(Y,{})})]})},_=c(139),K=c(86),Q=c(85),X=c(136),$=c(137),ee=c(138),te=c(140),ce=c(141),re=function(e){var t=e.fullName;return Object(h.jsx)(u.a,{as:"h1",size:"xl",letterSpacing:"0.1em",mt:"1em",textAlign:{base:"center",md:"start"},children:t})},ne=function(e){var t=e.jobTitle;return Object(h.jsx)(G.a,{mt:"0.5em",color:"gray",fontWeight:"bold",children:t})},ae=function(e){var t=e.avatar,c=e.fullName;return Object(h.jsx)(b.b,{mx:"auto",maxW:"170px",size:{sm:"170px"},borderWidth:"4px",borderRadius:"8px",overflow:"hidden",children:Object(h.jsx)(M.a,{loading:"lazy",boxSize:"100%",objectFit:"cover",src:t||"https://via.placeholder.com/150",fallbackSrc:"https://via.placeholder.com/150",alt:"Profile picture of ".concat(c)})})},se=function(e){var t=e.dividerText;return Object(h.jsx)(b.a,{borderBottom:"1px",borderColor:"gray.700",textTransform:"uppercase",fontSize:"lg",py:2,mx:{base:"1em",md:"0"},mt:"1em",textAlign:{base:"center",md:"unset"},children:t})},ie=function(e){var t=e.phone,c=e.email,r=e.website;return Object(h.jsxs)(b.a,{mt:"1rem",children:[Object(h.jsxs)(N.a,{p:2,spacing:4,children:[Object(h.jsx)(X.a,{color:"gray"}),Object(h.jsx)(b.a,{as:"span",children:t})]}),Object(h.jsxs)(N.a,{p:2,spacing:4,children:[Object(h.jsx)($.a,{color:"gray"}),Object(h.jsx)(b.a,{as:"span",color:"teal.500",children:c})]}),Object(h.jsxs)(N.a,{p:2,spacing:4,children:[Object(h.jsx)(ee.a,{color:"gray"}),Object(h.jsx)(b.a,{as:"span",children:Object(h.jsx)(d.a,{color:"teal.500",children:r})})]})]})},je=function(e){var t=e.street,c=e.city,r=e.state,n=e.zip;return Object(h.jsxs)(b.a,{mt:"1rem",children:[Object(h.jsxs)(N.a,{py:2,spacing:12,children:[Object(h.jsx)(b.a,{w:"80px",fontWeight:"bold",children:"Street:"}),Object(h.jsx)(b.a,{as:"span",children:t})]}),Object(h.jsxs)(N.a,{py:2,spacing:12,children:[Object(h.jsx)(b.a,{w:"80px",fontWeight:"bold",children:"City:"}),Object(h.jsx)(b.a,{as:"span",children:c})]}),Object(h.jsxs)(N.a,{py:2,spacing:12,children:[Object(h.jsx)(b.a,{w:"80px",fontWeight:"bold",children:"State:"}),Object(h.jsx)(b.a,{as:"span",children:r})]}),Object(h.jsxs)(N.a,{py:2,spacing:12,children:[Object(h.jsx)(b.a,{w:"80px",fontWeight:"bold",children:"ZIP:"}),Object(h.jsx)(b.a,{as:"span",children:n})]})]})},le=function(e){var t=e.user,c=t.avatar,r=t.fullName,n=t.phone,a=t.email,s=t.website,i=t.street,j=t.city,l=t.state,o=t.zip,b=t.jobTitle;return Object(h.jsxs)(_.a,{templateColumns:{base:"1fr",md:"1fr 2fr"},rowGap:4,columnGap:8,my:"2rem",justifyItems:{base:"center",md:"unset"},children:[Object(h.jsx)(_.b,{children:Object(h.jsx)(ae,{avatar:c,fullName:r})}),Object(h.jsx)(_.b,{children:Object(h.jsxs)(k.a,{direction:"column",alignItems:{base:"center",md:"flex-start"},children:[Object(h.jsx)(re,{fullName:r}),Object(h.jsx)(ne,{jobTitle:b})]})}),Object(h.jsx)(_.b,{colStart:{md:2},justifySelf:"stretch",children:Object(h.jsx)(se,{dividerText:"Contact Details"})}),Object(h.jsx)(_.b,{children:Object(h.jsx)(ie,{phone:n,email:a,website:s})}),Object(h.jsx)(_.b,{children:Object(h.jsx)(je,{street:i,city:j,state:l,zip:o})})]})},oe=function(){return Object(h.jsx)(k.a,{mt:"4rem",justifyContent:{base:"center",md:"flex-end"},borderTop:"1px",borderColor:"gray.700",children:Object(h.jsx)(K.a,{mt:"2rem",mb:{base:"2rem",md:"1rem"},size:"sm",children:Object(h.jsxs)(N.b,{direction:{base:"column",md:"row"},py:2,spacing:3,children:[Object(h.jsx)(Q.a,{leftIcon:Object(h.jsx)(te.a,{}),height:"40px",width:"150px",colorScheme:"blue",variant:"outline",children:"Edit User"}),Object(h.jsx)(Q.a,{leftIcon:Object(h.jsx)(ce.a,{}),height:"40px",width:"150px",colorScheme:"red",variant:"outline",children:"Delete User"}),Object(h.jsx)(Q.a,{height:"40px",width:"150px",colorScheme:"teal",children:"Create New User"})]})})})},be=function(){var e=Object(j.g)().id,t=Object(n.useState)(null),c=Object(L.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),i=Object(L.a)(s,2),l=i[0],o=i[1];return Object(n.useEffect)((function(){(function(){var t=Object(A.a)(I.a.mark((function t(){var c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,J.getUserDetails(e);case 3:c=t.sent,console.log(c),a(c),o(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(h.jsx)(T,{children:l?Object(h.jsx)(F,{}):r?Object(h.jsxs)(b.a,{as:"article",borderWidth:"1px",borderRadius:"lg",p:{base:4,md:"3rem 4rem"},width:"100%",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.2)",children:[Object(h.jsx)(le,{user:r}),Object(h.jsx)(b.a,{as:"footer",children:Object(h.jsx)(oe,{})})]}):Object(h.jsx)(G.a,{as:"h3",textAlign:"center",children:"There is no user data"})})},ue=function(){return Object(h.jsx)("h1",{children:"Edit User"})},de=c(6),he=function(e){var t=e.initialValues,c=e.onSubmit,r=Object(n.useState)(t||{}),a=Object(L.a)(r,2),s=a[0],i=a[1],j=Object(n.useState)({}),l=Object(L.a)(j,2),o=l[0],b=l[1],u=Object(n.useState)({}),d=Object(L.a)(u,2),h=d[0],x=d[1],m=Object(n.useState)(!1),p=Object(L.a)(m,2),f=(p[0],p[1]),g=Object(n.useState)(!1),v=Object(L.a)(g,2),y=(v[0],v[1]),S=Object(n.useRef)(!0);Object(n.useEffect)((function(){S.current&&(i(t),b({}),x({}),f(!1),y(!1)),S.current=!1}),[t]);return{values:s,errors:o,touched:h,handleChange:function(e){e.persist();var t=e.target,c=t.name,r=t.value;i(Object(O.a)(Object(O.a)({},s),{},Object(de.a)({},c,r)))},handleBlur:function(e){var t=e.target.name;x(Object(O.a)(Object(O.a)({},h),{},Object(de.a)({},t,!0))),b(Object(O.a)({},o))},handleSubmit:function(e){e&&e.preventDefault(),b(Object(O.a)({},o)),c({values:s,errors:o})}}},xe={fullName:"",email:"",city:"",country:""},Oe=function(){var e=he({initialValues:xe,onSubmit:function(e){return console.log(e)}}),t=e.values,c=(e.errors,e.touched,e.handleChange),r=(e.handleBlur,e.handleSubmit);return Object(h.jsxs)("form",{onSubmit:r,children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Full Name"}),Object(h.jsx)("input",{name:"fullName",type:"text",value:t.fullName,onChange:c,required:!0}),!t.fullName&&Object(h.jsx)("span",{children:"Please enter a full name"})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Email address"}),Object(h.jsx)("input",{name:"email",type:"email",value:t.email,onChange:c,required:!0}),!t.email&&Object(h.jsx)("span",{children:"Please enter an email address"})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"City"}),Object(h.jsx)("input",{name:"city",type:"city",value:t.city,onChange:c})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Country"}),Object(h.jsx)("input",{name:"country",type:"country",value:t.country,onChange:c})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"Create New User"})})]})},me=c(42),pe=c(142),fe=c(149),ge=c(143),ve=c(145),ye={email:""},Se=function(e){var t=e.authToken,c=e.setAuthToken,r=e.setHasLogged,n=Object(v.b)().colorMode,a=he({initialValues:ye,onSubmit:function(e){try{if(t){if(e.values.email!==t)throw console.log(e),new Error("Email is not matching");r()}else c(e.values.email),r()}catch(n){console.log(n),console.log(i)}}}),s=a.values,i=a.errors,j=(a.touched,a.handleChange),l=(a.handleBlur,a.handleSubmit);return Object(h.jsx)(k.a,{w:"100%",alignItems:"center",justifyContent:"center",height:"100vh",px:{sm:8},bg:"light"===n?"#fffaf6":"gray.500",children:Object(h.jsxs)(k.a,{direction:"column",alignItems:"stretch",justifyContent:{base:"center",sm:"flex-start"},height:{base:"100%",sm:"unset"},width:"100%",maxWidth:"500px",borderRadius:{sm:"lg"},borderWidth:{sm:"1px"},bg:"light"===n?"white":"gray.700",p:8,mt:{sm:"-20%"},children:[Object(h.jsxs)(b.a,{textAlign:"center",mt:"1rem",mb:"3rem",children:[Object(h.jsx)(u.a,{as:"h1",mb:"0.5rem",children:"Users App"}),Object(h.jsx)(G.a,{fontSize:"md",children:"Sign in with email to manage users data"})]}),Object(h.jsx)("form",{onSubmit:l,children:Object(h.jsxs)(N.b,{spacing:6,alignItems:"stretch",children:[Object(h.jsxs)(me.a,{id:"email",isRequired:!0,children:[Object(h.jsx)(pe.a,{children:"Email Address"}),Object(h.jsx)(fe.a,{required:!0,name:"email",type:"email",placeholder:"Enter your email address",value:s.email,onChange:j})]}),Object(h.jsx)(Q.a,{colorScheme:"teal",type:"submit",children:"Sign In"}),Object(h.jsx)(ge.a,{}),Object(h.jsxs)(ve.a,{children:[Object(h.jsx)(ve.g,{children:Object(h.jsx)(d.a,{fontSize:"sm",textAlign:"center",children:"Forgot your email?"})}),Object(h.jsxs)(ve.e,{children:[Object(h.jsx)(ve.b,{}),Object(h.jsx)(ve.d,{}),Object(h.jsx)(ve.f,{px:4,pt:4,fontWeight:"bold",fontSize:"sm",borderBottom:"1px",borderColor:"teal.100",children:"Email used to login:"}),Object(h.jsx)(ve.c,{p:4,children:t||"You haven't sign in before"})]})]})]})})]})})},we=function(e){return Object(h.jsx)(k.a,{direction:"column",w:"100%",minH:"100vh",children:e.children})},ke=function(e){return Object(h.jsx)(b.a,{as:"main",flex:"1",children:e.children})},Ce=function(){var e=function(e,t){var c=t.getItem(e),r=JSON.parse(c);return console.log(r),r},t=Object(n.useState)(e("authToken",localStorage)),c=Object(L.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(e("hasLogged",sessionStorage)),i=Object(L.a)(s,2),j=i[0],l=i[1];return{authToken:r,setAuthToken:function(e){localStorage.setItem("authToken",JSON.stringify(e)),a(e)},hasLogged:j,setHasLogged:function(){sessionStorage.setItem("hasLogged",JSON.stringify(!0)),l(!0)}}};var ze=function(){var e=Ce(),t=e.authToken,c=e.setAuthToken,r=e.hasLogged,n=e.setHasLogged;return console.log("/users-app"),r&&t?Object(h.jsx)(l.a,{theme:o.theme,children:Object(h.jsx)(i.a,{basename:"/users-app",children:Object(h.jsxs)(we,{children:[Object(h.jsx)(C,{}),Object(h.jsx)(ke,{children:Object(h.jsxs)(j.d,{children:[Object(h.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(j.a,{to:"/users"})}}),Object(h.jsx)(j.b,{exact:!0,path:"/users",component:Z}),Object(h.jsx)(j.b,{exact:!0,path:"/users/create",component:Oe}),Object(h.jsx)(j.b,{exact:!0,path:"/users/:id",component:be}),Object(h.jsx)(j.b,{exact:!0,path:"/users/:id/edit",component:ue})]})}),Object(h.jsx)(z,{})]})})}):Object(h.jsx)(l.a,{theme:o.theme,children:Object(h.jsx)(Se,{authToken:t,setAuthToken:c,setHasLogged:n})})};s.a.render(Object(h.jsxs)(n.StrictMode,{children:[Object(h.jsx)(r.a,{}),Object(h.jsx)(ze,{})]}),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.3e8c030d.chunk.js.map